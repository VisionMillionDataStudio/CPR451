# åŠ¨æ¼«åœºæ™¯äº¤é€šæ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunshansj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€åŸå¸‚åŒ–è¿›ç¨‹çš„åŠ å¿«ï¼Œäº¤é€šé—®é¢˜æ—¥ç›Šçªå‡ºï¼Œäº¤é€šå®‰å…¨ä¸æ•ˆç‡æˆä¸ºç°ä»£ç¤¾ä¼šäºŸå¾…è§£å†³çš„é‡è¦è¯¾é¢˜ã€‚å°¤å…¶æ˜¯åœ¨åŠ¨æ¼«åœºæ™¯ä¸­ï¼Œäº¤é€šå…ƒç´ çš„å¤šæ ·æ€§å’Œå¤æ‚æ€§ä¸ºäº¤é€šæ£€æµ‹ç³»ç»Ÿçš„ç ”å‘å¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜ã€‚ä¼ ç»Ÿçš„äº¤é€šæ£€æµ‹æ–¹æ³•å¤šä¾èµ–äºäººå·¥æ ‡æ³¨å’Œç®€å•çš„å›¾åƒå¤„ç†æŠ€æœ¯ï¼Œéš¾ä»¥é€‚åº”å¿«é€Ÿå˜åŒ–çš„äº¤é€šç¯å¢ƒå’Œå¤šæ ·åŒ–çš„äº¤é€šå‚ä¸è€…ã€‚å› æ­¤ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ£€æµ‹æŠ€æœ¯ï¼Œå°¤å…¶æ˜¯YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹çš„åº”ç”¨ï¼Œæˆä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜çš„æœ‰æ•ˆé€”å¾„ã€‚

YOLOv8ä½œä¸ºYOLOç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå…·å¤‡äº†æ›´é«˜çš„æ£€æµ‹ç²¾åº¦å’Œæ›´å¿«çš„å¤„ç†é€Ÿåº¦ï¼Œé€‚åˆåœ¨å®æ—¶äº¤é€šç›‘æ§ç³»ç»Ÿä¸­åº”ç”¨ã€‚ç„¶è€Œï¼Œé’ˆå¯¹åŠ¨æ¼«åœºæ™¯çš„äº¤é€šæ£€æµ‹ï¼Œç°æœ‰çš„YOLOv8æ¨¡å‹åœ¨ç‰¹å®šåœºæ™¯ä¸‹çš„é€‚åº”æ€§å’Œå‡†ç¡®æ€§ä»æœ‰å¾…æå‡ã€‚åŠ¨æ¼«åœºæ™¯çš„ç‹¬ç‰¹è§†è§‰é£æ ¼å’Œè¡¨ç°å½¢å¼ä½¿å¾—ä¼ ç»Ÿçš„ç›®æ ‡æ£€æµ‹ç®—æ³•åœ¨è¯†åˆ«äº¤é€šå‚ä¸è€…å’Œäº¤é€šè®¾æ–½æ—¶é¢ä¸´è¯¸å¤šå›°éš¾ã€‚å› æ­¤ï¼Œæ”¹è¿›YOLOv8æ¨¡å‹ï¼Œä»¥é€‚åº”åŠ¨æ¼«åœºæ™¯çš„äº¤é€šæ£€æµ‹éœ€æ±‚ï¼Œå…·æœ‰é‡è¦çš„ç ”ç©¶ä»·å€¼å’Œå®é™…æ„ä¹‰ã€‚

æœ¬ç ”ç©¶å°†åŸºäºCPRæ¨¡å—æä¾›çš„5000å¼ å›¾åƒæ•°æ®é›†ï¼Œæ¶µç›–20ä¸ªç±»åˆ«çš„äº¤é€šå‚ä¸è€…ä¸ç‰©ä½“ï¼ŒåŒ…æ‹¬æ±½è½¦ã€å…¬äº¤è½¦ã€æ‘©æ‰˜è½¦ã€è¡Œäººç­‰ï¼Œæ„å»ºä¸€ä¸ªé’ˆå¯¹åŠ¨æ¼«åœºæ™¯çš„äº¤é€šæ£€æµ‹ç³»ç»Ÿã€‚è¯¥æ•°æ®é›†çš„å¤šæ ·æ€§å’Œä¸°å¯Œæ€§ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†è‰¯å¥½çš„åŸºç¡€ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œæ£€æµ‹ç²¾åº¦ã€‚é€šè¿‡å¯¹YOLOv8æ¨¡å‹çš„æ”¹è¿›ï¼Œæˆ‘ä»¬å°†æ¢ç´¢å¦‚ä½•åœ¨åŠ¨æ¼«åœºæ™¯ä¸­ä¼˜åŒ–ç‰¹å¾æå–å’Œç›®æ ‡å®šä½ï¼Œä»¥æé«˜æ£€æµ‹çš„å‡†ç¡®æ€§å’Œå®æ—¶æ€§ã€‚

æ­¤å¤–ï¼ŒåŠ¨æ¼«åœºæ™¯çš„äº¤é€šæ£€æµ‹ä¸ä»…å…·æœ‰å­¦æœ¯ç ”ç©¶çš„æ„ä¹‰ï¼Œæ›´åœ¨å®é™…åº”ç”¨ä¸­å±•ç°å‡ºå¹¿æ³›çš„å‰æ™¯ã€‚éšç€åŠ¨æ¼«äº§ä¸šçš„è“¬å‹ƒå‘å±•ï¼ŒåŠ¨æ¼«ä½œå“ä¸­çš„äº¤é€šåœºæ™¯è¶Šæ¥è¶Šå¤šï¼Œå¦‚ä½•åœ¨è¿™äº›ä½œå“ä¸­å®ç°æ™ºèƒ½åŒ–çš„äº¤é€šç›‘æ§å’Œåˆ†æï¼Œå°†ä¸ºäº¤é€šç®¡ç†ã€æ™ºèƒ½å‡ºè¡Œç­‰é¢†åŸŸæä¾›æ–°çš„æ€è·¯å’Œè§£å†³æ–¹æ¡ˆã€‚é€šè¿‡æ„å»ºåŸºäºæ”¹è¿›YOLOv8çš„åŠ¨æ¼«åœºæ™¯äº¤é€šæ£€æµ‹ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºäº¤é€šå®‰å…¨å’ŒåŸå¸‚ç®¡ç†æä¾›æœ‰åŠ›çš„æŠ€æœ¯æ”¯æŒï¼Œæ¨åŠ¨æ™ºèƒ½äº¤é€šç³»ç»Ÿçš„å‘å±•ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œæœ¬ç ”ç©¶ä¸ä»…æ—¨åœ¨æå‡YOLOv8åœ¨åŠ¨æ¼«åœºæ™¯ä¸­çš„æ£€æµ‹èƒ½åŠ›ï¼Œæ›´å¸Œæœ›é€šè¿‡ç³»ç»Ÿçš„æ„å»ºä¸éªŒè¯ï¼Œä¸ºæœªæ¥çš„äº¤é€šæ£€æµ‹æŠ€æœ¯æä¾›æ–°çš„å‚è€ƒå’Œå€Ÿé‰´ã€‚é€šè¿‡å¯¹åŠ¨æ¼«åœºæ™¯äº¤é€šæ£€æµ‹çš„æ·±å…¥ç ”ç©¶ï¼Œæˆ‘ä»¬å°†ä¸ºç›¸å…³é¢†åŸŸçš„ç ”ç©¶è€…å’Œä»ä¸šè€…æä¾›æœ‰ä»·å€¼çš„è§è§£ï¼Œæ¨åŠ¨äº¤é€šæ£€æµ‹æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ä¸åˆ›æ–°ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1dv4ZeEE8P/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 20
names: ['aeroplane', 'bicycle', 'bird', 'boat', 'bottle', 'bus', 'car', 'cat', 'chair', 'cow', 'diningtable', 'dog', 'horse', 'motorbike', 'person', 'pottedplant', 'sheep', 'sofa', 'train', 'tvmonitor']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åä¸ºâ€œCPRâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¹è¿›YOLOv8åœ¨åŠ¨æ¼«åœºæ™¯ä¸­çš„äº¤é€šæ£€æµ‹ç³»ç»Ÿã€‚è¯¥æ•°æ®é›†çš„è®¾è®¡æ—¨åœ¨æä¾›å¤šæ ·åŒ–çš„åœºæ™¯å’Œå¯¹è±¡ï¼Œä»¥ä¾¿äºè®­ç»ƒå’Œè¯„ä¼°æ¨¡å‹åœ¨å¤æ‚ç¯å¢ƒä¸‹çš„è¡¨ç°ã€‚CPRæ•°æ®é›†åŒ…å«20ä¸ªç±»åˆ«ï¼Œæ¶µç›–äº†äº¤é€šå·¥å…·ã€åŠ¨ç‰©ã€å®¶å…·åŠå…¶ä»–å¸¸è§ç‰©å“ï¼Œè¿™äº›ç±»åˆ«çš„å¤šæ ·æ€§ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”ä¸åŒçš„è§†è§‰åœºæ™¯ã€‚

CPRæ•°æ®é›†çš„ç±»åˆ«åŒ…æ‹¬ï¼šé£æœºï¼ˆaeroplaneï¼‰ã€è‡ªè¡Œè½¦ï¼ˆbicycleï¼‰ã€é¸Ÿï¼ˆbirdï¼‰ã€èˆ¹ï¼ˆboatï¼‰ã€ç“¶å­ï¼ˆbottleï¼‰ã€å…¬äº¤è½¦ï¼ˆbusï¼‰ã€æ±½è½¦ï¼ˆcarï¼‰ã€çŒ«ï¼ˆcatï¼‰ã€æ¤…å­ï¼ˆchairï¼‰ã€ç‰›ï¼ˆcowï¼‰ã€é¤æ¡Œï¼ˆdiningtableï¼‰ã€ç‹—ï¼ˆdogï¼‰ã€é©¬ï¼ˆhorseï¼‰ã€æ‘©æ‰˜è½¦ï¼ˆmotorbikeï¼‰ã€äººï¼ˆpersonï¼‰ã€ç›†æ ½æ¤ç‰©ï¼ˆpottedplantï¼‰ã€ç¾Šï¼ˆsheepï¼‰ã€æ²™å‘ï¼ˆsofaï¼‰ã€ç«è½¦ï¼ˆtrainï¼‰å’Œç”µè§†æœºï¼ˆtvmonitorï¼‰ã€‚è¿™äº›ç±»åˆ«ä¸ä»…æ¶µç›–äº†äº¤é€šå·¥å…·ï¼Œè¿˜åŒ…æ‹¬äº†ç”Ÿæ´»ä¸­å¸¸è§çš„åŠ¨ç‰©å’Œå®¶å…·ï¼Œç¡®ä¿äº†æ•°æ®é›†çš„å¹¿æ³›é€‚ç”¨æ€§ã€‚

åœ¨åŠ¨æ¼«åœºæ™¯ä¸­ï¼Œäº¤é€šæ£€æµ‹é¢ä¸´ç€è®¸å¤šæŒ‘æˆ˜ï¼Œä¾‹å¦‚ç‰©ä½“çš„é®æŒ¡ã€å…‰ç…§å˜åŒ–ä»¥åŠä¸åŒçš„è§†è§’ã€‚CPRæ•°æ®é›†é€šè¿‡æä¾›å¤šæ ·åŒ–çš„å›¾åƒå’Œåœºæ™¯ï¼Œå¸®åŠ©æ¨¡å‹å­¦ä¹ åˆ°å¦‚ä½•åœ¨è¿™äº›å¤æ‚æ¡ä»¶ä¸‹è¿›è¡Œå‡†ç¡®çš„æ£€æµ‹ã€‚æ¯ä¸ªç±»åˆ«çš„æ ·æœ¬æ•°é‡ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œä»¥ç¡®ä¿æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿè·å¾—è¶³å¤Ÿçš„æ ·æœ¬é‡ï¼Œä»è€Œæé«˜å…¶æ³›åŒ–èƒ½åŠ›ã€‚

æ•°æ®é›†ä¸­çš„å›¾åƒç»è¿‡æ ‡æ³¨ï¼Œç¡®ä¿æ¯ä¸ªå¯¹è±¡çš„è¾¹ç•Œæ¡†å’Œç±»åˆ«æ ‡ç­¾éƒ½å‡†ç¡®æ— è¯¯ã€‚è¿™äº›æ ‡æ³¨ä¿¡æ¯ä¸ºYOLOv8æ¨¡å‹çš„è®­ç»ƒæä¾›äº†å¿…è¦çš„ç›‘ç£ä¿¡å·ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨é¢å¯¹æ–°çš„ã€æœªè§è¿‡çš„å›¾åƒæ—¶ï¼Œä¾ç„¶èƒ½å¤Ÿåšå‡ºå‡†ç¡®çš„é¢„æµ‹ã€‚æ­¤å¤–ï¼ŒCPRæ•°æ®é›†è¿˜è€ƒè™‘åˆ°äº†åŠ¨æ¼«é£æ ¼çš„ç‰¹å¾ï¼Œä¾‹å¦‚è‰²å½©çš„é²œè‰³åº¦ã€çº¿æ¡çš„æ¸…æ™°åº¦ä»¥åŠå½¢çŠ¶çš„å¤¸å¼ ï¼Œè¿™äº›ç‰¹å¾åœ¨ä¼ ç»Ÿçš„äº¤é€šæ£€æµ‹æ•°æ®é›†ä¸­å¹¶ä¸å¸¸è§ã€‚å› æ­¤ï¼Œä½¿ç”¨CPRæ•°æ®é›†è¿›è¡Œè®­ç»ƒï¼Œèƒ½å¤Ÿä½¿æ¨¡å‹æ›´å¥½åœ°é€‚åº”åŠ¨æ¼«åœºæ™¯çš„ç‰¹æ€§ã€‚

åœ¨æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ•°æ®é›†åˆ†ä¸ºè®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†ï¼Œä»¥ä¾¿äºå¯¹æ¨¡å‹çš„æ€§èƒ½è¿›è¡Œå…¨é¢è¯„ä¼°ã€‚è®­ç»ƒé›†ç”¨äºæ¨¡å‹çš„å­¦ä¹ ï¼ŒéªŒè¯é›†ç”¨äºè°ƒæ•´è¶…å‚æ•°ï¼Œæµ‹è¯•é›†åˆ™ç”¨äºæœ€ç»ˆçš„æ€§èƒ½è¯„ä¼°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç¡®ä¿æ¨¡å‹åœ¨ä¸åŒæ•°æ®é›†ä¸Šçš„è¡¨ç°ç¨³å®šï¼Œå…·å¤‡è‰¯å¥½çš„æ³›åŒ–èƒ½åŠ›ã€‚

æ€»ä¹‹ï¼ŒCPRæ•°æ®é›†ä¸ºæ”¹è¿›YOLOv8çš„åŠ¨æ¼«åœºæ™¯äº¤é€šæ£€æµ‹ç³»ç»Ÿæä¾›äº†ä¸°å¯Œçš„è®­ç»ƒç´ æå’Œå¤šæ ·åŒ–çš„åœºæ™¯è®¾ç½®ã€‚å…¶åŒ…å«çš„20ä¸ªç±»åˆ«ä¸ä»…æ¶µç›–äº†äº¤é€šå·¥å…·ï¼Œè¿˜æ¶‰åŠäº†åŠ¨ç‰©å’Œå®¶å…·ç­‰å¤šä¸ªæ–¹é¢ï¼Œä½¿å¾—æ¨¡å‹èƒ½å¤Ÿåœ¨å¤æ‚çš„åŠ¨æ¼«ç¯å¢ƒä¸­è¿›è¡Œæœ‰æ•ˆçš„æ£€æµ‹ã€‚é€šè¿‡å¯¹è¯¥æ•°æ®é›†çš„æ·±å…¥ç ”ç©¶å’Œåº”ç”¨ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿæ˜¾è‘—æå‡YOLOv8åœ¨åŠ¨æ¼«åœºæ™¯ä¸­çš„äº¤é€šæ£€æµ‹æ€§èƒ½ï¼Œä¸ºç›¸å…³é¢†åŸŸçš„ç ”ç©¶å’Œåº”ç”¨æä¾›æœ‰åŠ›æ”¯æŒã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ç®—æ³•æ˜¯ç”±Ultralyticså…¬å¸äº2023å¹´1æœˆ10æ—¥å‘å¸ƒçš„æœ€æ–°ç‰ˆæœ¬ï¼Œæ ‡å¿—ç€YOLOç³»åˆ—ç›®æ ‡æ£€æµ‹ç®—æ³•çš„åˆä¸€æ¬¡é‡å¤§è¿›æ­¥ã€‚è¯¥ç®—æ³•åœ¨YOLOv7çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–ï¼Œé‡‡ç”¨äº†æ›´ä¸ºå¤æ‚çš„å·ç§¯ç¥ç»ç½‘ç»œç»“æ„ï¼Œæ—¨åœ¨æå‡ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œé€Ÿåº¦ã€‚YOLOv8çš„è®¾è®¡ç†å¿µæ˜¯å°†æ•´ä¸ªå›¾åƒä½œä¸ºè¾“å…¥ï¼Œç›´æ¥åœ¨å›¾åƒä¸Šè¿›è¡Œç›®æ ‡æ£€æµ‹å’Œå®šä½ï¼Œé¿å…äº†ä¼ ç»Ÿæ–¹æ³•ä¸­æ»‘åŠ¨çª—å£æˆ–åŒºåŸŸæè®®çš„å¤æ‚æ€§ï¼Œä»è€Œæ˜¾è‘—æé«˜äº†æ£€æµ‹æ•ˆç‡ã€‚

åœ¨æ•°æ®é¢„å¤„ç†æ–¹é¢ï¼ŒYOLOv8ç»§æ‰¿äº†YOLOv5çš„ç­–ç•¥ï¼Œé‡‡ç”¨äº†å¤šç§å¢å¼ºæ‰‹æ®µï¼ŒåŒ…æ‹¬é©¬èµ›å…‹å¢å¼ºã€æ··åˆå¢å¼ºã€ç©ºé—´æ‰°åŠ¨å’Œé¢œè‰²æ‰°åŠ¨ç­‰ã€‚è¿™äº›å¢å¼ºæŠ€æœ¯ä¸ä»…æé«˜äº†æ¨¡å‹çš„é²æ£’æ€§ï¼Œè¿˜æœ‰æ•ˆåœ°æ‰©å±•äº†è®­ç»ƒæ•°æ®é›†çš„å¤šæ ·æ€§ï¼Œä½¿å¾—æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”ä¸åŒåœºæ™¯ä¸‹çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚

YOLOv8çš„éª¨å¹²ç½‘ç»œç»“æ„åœ¨YOLOv5çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ”¹è¿›ï¼Œé‡‡ç”¨äº†æ–°çš„C2fæ¨¡å—æ¥æ›¿ä»£åŸæœ‰çš„C3æ¨¡å—ã€‚C2fæ¨¡å—çš„è®¾è®¡ç†å¿µæ˜¯é€šè¿‡å¼•å…¥æ›´å¤šçš„åˆ†æ”¯æ¥ä¸°å¯Œæ¢¯åº¦å›ä¼ æ—¶çš„æ”¯æµï¼Œä»è€Œæé«˜ç‰¹å¾æå–çš„æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚æ¯ä¸€å±‚æ­¥é•¿ä¸º2çš„3Ã—3å·ç§¯ç”¨äºé™é‡‡æ ·ç‰¹å¾å›¾ï¼Œæ¥ç€é€šè¿‡C2fæ¨¡å—è¿›ä¸€æ­¥å¼ºåŒ–ç‰¹å¾ï¼Œç¡®ä¿ç½‘ç»œåœ¨ä¸åŒå°ºåº¦ä¸Šéƒ½èƒ½æœ‰æ•ˆåœ°æ•æ‰åˆ°ç›®æ ‡ä¿¡æ¯ã€‚

åœ¨ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œï¼ˆFPNï¼‰å’Œè·¯å¾„èšåˆç½‘ç»œï¼ˆPANï¼‰çš„ç»“åˆä½¿ç”¨ä¸Šï¼ŒYOLOv8ç»§ç»­æ²¿ç”¨YOLOv5çš„è®¾è®¡æ€è·¯ï¼Œä»¥å®ç°å¤šå°ºåº¦ä¿¡æ¯çš„å……åˆ†èåˆã€‚FPN-PANç»“æ„çš„æ ¸å¿ƒåœ¨äºèƒ½å¤Ÿæœ‰æ•ˆåœ°æ•´åˆæ¥è‡ªä¸åŒå±‚æ¬¡çš„ç‰¹å¾å›¾ï¼Œä»è€Œå¢å¼ºæ¨¡å‹å¯¹å°ç›®æ ‡å’Œå¤§ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ã€‚C2fæ¨¡å—çš„å¼•å…¥ï¼Œä½¿å¾—ç‰¹å¾çš„ä¼ é€’æ›´åŠ çµæ´»ï¼Œè¿›è€Œæå‡äº†æ•´ä½“çš„æ£€æµ‹æ€§èƒ½ã€‚

YOLOv8åœ¨æ£€æµ‹å¤´çš„è®¾è®¡ä¸Šä¹Ÿè¿›è¡Œäº†åˆ›æ–°ï¼Œé‡‡ç”¨äº†è§£è€¦å¤´ç»“æ„ã€‚è¿™ä¸€ç»“æ„å°†åˆ†ç±»å’Œå®šä½ä»»åŠ¡åˆ†å¼€å¤„ç†ï¼Œåˆ†åˆ«é€šè¿‡ä¸¤æ¡å¹¶è¡Œçš„åˆ†æ”¯æå–ç±»åˆ«ç‰¹å¾å’Œä½ç½®ç‰¹å¾ï¼Œæœ€ç»ˆé€šè¿‡1Ã—1å·ç§¯å®Œæˆåˆ†ç±»å’Œå®šä½çš„ä»»åŠ¡ã€‚è¿™ç§è§£è€¦çš„è®¾è®¡ä½¿å¾—æ¨¡å‹åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶ï¼Œèƒ½å¤Ÿæ›´æ¸…æ™°åœ°è¯†åˆ«ç›®æ ‡çš„ç±»åˆ«å’Œä½ç½®ï¼Œè¿›è€Œæé«˜æ£€æµ‹çš„å‡†ç¡®æ€§ã€‚

åœ¨æ ‡ç­¾åˆ†é…ç­–ç•¥æ–¹é¢ï¼ŒYOLOv8æ‘’å¼ƒäº†ä¾èµ–äºæ•°æ®é›†çš„å€™é€‰æ¡†èšç±»æ–¹æ³•ï¼Œè½¬è€Œé‡‡ç”¨äº†ä¸€ç§åŠ¨æ€æ ‡ç­¾åˆ†é…ç­–ç•¥ï¼Œç§°ä¸ºTOODç­–ç•¥ã€‚è¿™ä¸€ç­–ç•¥é€šè¿‡å¯¹ç›®æ ‡æ¡†å’Œç›®æ ‡åˆ†æ•°çš„åŠ¨æ€è°ƒæ•´ï¼Œä¼˜åŒ–äº†æ­£è´Ÿæ ·æœ¬çš„åŒ¹é…è¿‡ç¨‹ã€‚YOLOv8çš„æŸå¤±å‡½æ•°ä¸»è¦ç”±ç±»åˆ«æŸå¤±å’Œä½ç½®æŸå¤±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­ç±»åˆ«æŸå¤±é‡‡ç”¨äº†Varifocal Lossï¼ˆVFLï¼‰ï¼Œè€Œä½ç½®æŸå¤±åˆ™ç»“åˆäº†CIoULossä¸DFLLossã€‚VFLçš„è®¾è®¡æ—¨åœ¨é€šè¿‡ä¸å¯¹ç§°å‚æ•°å¯¹æ­£è´Ÿæ ·æœ¬è¿›è¡ŒåŠ æƒï¼Œä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ›´åŠ å…³æ³¨é«˜è´¨é‡çš„æ­£æ ·æœ¬ï¼Œä»è€Œæå‡æ•´ä½“çš„æ£€æµ‹æ€§èƒ½ã€‚

å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒYOLOv8åœ¨æ€§èƒ½ä¸Šä¹Ÿå–å¾—äº†æ˜¾è‘—çš„æå‡ã€‚ä¸å‰ä¸€ç‰ˆæœ¬ç›¸æ¯”ï¼ŒYOLOv8åœ¨ç²¾åº¦ï¼ˆmAPï¼‰å’Œå¸§ç‡ä¸Šå‡æœ‰æ˜¾è‘—æé«˜ï¼Œåˆ†åˆ«æå‡äº†43.23%å’Œ10.28å€ã€‚è¿™ä½¿å¾—YOLOv8åœ¨æ™ºèƒ½ç›‘æ§ã€è‡ªåŠ¨é©¾é©¶å’Œäººè„¸è¯†åˆ«ç­‰åº”ç”¨åœºæ™¯ä¸­ï¼Œå±•ç°å‡ºäº†æ›´ä¸ºä¼˜è¶Šçš„æ€§èƒ½ï¼Œæˆä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€ä¸ªé‡è¦å·¥å…·ã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8ç®—æ³•é€šè¿‡å¯¹ç½‘ç»œç»“æ„çš„æ·±åº¦ä¼˜åŒ–ã€æ•°æ®é¢„å¤„ç†çš„å¢å¼ºã€æ ‡ç­¾åˆ†é…ç­–ç•¥çš„æ”¹è¿›ç­‰å¤šæ–¹é¢çš„åˆ›æ–°ï¼ŒæˆåŠŸåœ°æå‡äº†ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œé€Ÿåº¦ã€‚å…¶åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶çš„é«˜æ•ˆæ€§å’Œå‡†ç¡®æ€§ï¼Œä½¿å¾—YOLOv8æˆä¸ºäº†ç°ä»£è®¡ç®—æœºè§†è§‰é¢†åŸŸä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œä¸ºå„ç§å®é™…åº”ç”¨æä¾›äº†å¼ºæœ‰åŠ›çš„æ”¯æŒã€‚éšç€YOLOv8çš„å¹¿æ³›åº”ç”¨ï¼Œæœªæ¥åœ¨ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ç ”ç©¶å’Œå®è·µä¸­ï¼Œå¿…å°†æ¨åŠ¨æ›´å¤šåˆ›æ–°çš„å‡ºç°ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 code\ultralytics\assets\utils\__init__.py

ä»¥ä¸‹æ˜¯ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
from sys import version_info as py_version  # å¯¼å…¥Pythonç‰ˆæœ¬ä¿¡æ¯

def __pyarmor__():  # å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå¯¼å…¥pyarmorè¿è¡Œæ—¶
    import platform  # å¯¼å…¥å¹³å°æ¨¡å—
    import sys  # å¯¼å…¥ç³»ç»Ÿæ¨¡å—
    from struct import calcsize  # ä»structæ¨¡å—å¯¼å…¥calcsizeå‡½æ•°ï¼Œç”¨äºè®¡ç®—æ•°æ®ç±»å‹çš„å¤§å°

    def format_system():  # å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ ¼å¼åŒ–ç³»ç»Ÿä¿¡æ¯
        plat = platform.system().lower()  # è·å–æ“ä½œç³»ç»Ÿåç§°å¹¶è½¬æ¢ä¸ºå°å†™
        # æ ¹æ®æ“ä½œç³»ç»Ÿåç§°è¿›è¡Œåˆ†ç±»
        plat = ('windows' if plat.startswith('cygwin') else
                'linux' if plat.startswith('linux') else
                'freebsd' if plat.startswith(
                    ('freebsd', 'openbsd', 'isilon onefs')) else plat)
        if plat == 'linux':  # å¦‚æœæ˜¯Linuxç³»ç»Ÿ
            if hasattr(sys, 'getandroidapilevel'):  # æ£€æŸ¥æ˜¯å¦ä¸ºAndroid
                plat = 'android'
            else:
                cname, cver = platform.libc_ver()  # è·å–Cæ ‡å‡†åº“çš„åç§°å’Œç‰ˆæœ¬
                if cname == 'musl':  # å¦‚æœæ˜¯muslåº“
                    plat = 'alpine'  # è®¾ç½®å¹³å°ä¸ºalpine
                elif cname == 'libc':  # å¦‚æœæ˜¯glibc
                    plat = 'android'  # è®¾ç½®å¹³å°ä¸ºandroid
        return plat  # è¿”å›å¹³å°åç§°

    def format_machine():  # å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ ¼å¼åŒ–æœºå™¨æ¶æ„ä¿¡æ¯
        mach = platform.machine().lower()  # è·å–æœºå™¨æ¶æ„åç§°å¹¶è½¬æ¢ä¸ºå°å†™
        # å®šä¹‰ä¸€ä¸ªæ¶æ„æ˜ å°„è¡¨
        arch_table = (
            ('x86', ('i386', 'i486', 'i586', 'i686')),
            ('x86_64', ('x64', 'x86_64', 'amd64', 'intel')),
            ('arm', ('armv5',)),
            ('armv6', ('armv6l',)),
            ('armv7', ('armv7l',)),
            ('aarch32', ('aarch32',)),
            ('aarch64', ('aarch64', 'arm64'))
        )
        # éå†æ¶æ„æ˜ å°„è¡¨ï¼ŒåŒ¹é…æœºå™¨æ¶æ„
        for alias, archlist in arch_table:
            if mach in archlist:
                mach = alias  # å¦‚æœåŒ¹é…æˆåŠŸï¼Œè®¾ç½®æœºå™¨æ¶æ„ä¸ºåˆ«å
                break
        return mach  # è¿”å›æœºå™¨æ¶æ„åç§°

    plat, mach = format_system(), format_machine()  # è·å–å¹³å°å’Œæœºå™¨æ¶æ„ä¿¡æ¯
    # å¦‚æœæ˜¯Windowsç³»ç»Ÿä¸”æœºå™¨æ¶æ„ä¸ºx86_64
    if plat == 'windows' and mach == 'x86_64':
        bitness = calcsize('P'.encode()) * 8  # è®¡ç®—æŒ‡é’ˆçš„ä½æ•°
        if bitness == 32:  # å¦‚æœæ˜¯32ä½
            mach = 'x86'  # è®¾ç½®æœºå™¨æ¶æ„ä¸ºx86
    # ç”Ÿæˆpyarmorè¿è¡Œæ—¶æ¨¡å—çš„åç§°
    name = '.'.join(['py%d%d' % py_version[:2], '_'.join([plat, mach]), 'pyarmor_runtime'])
    return __import__(name, globals(), locals(), ['__pyarmor__'], level=1)  # åŠ¨æ€å¯¼å…¥pyarmorè¿è¡Œæ—¶æ¨¡å—

__pyarmor__ = __pyarmor__().__pyarmor__  # è°ƒç”¨__pyarmor__å‡½æ•°å¹¶å°†è¿”å›å€¼èµ‹ç»™__pyarmor__
```

### ä»£ç åˆ†æï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼šä»£ç å¼€å§‹æ—¶å¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬`platform`å’Œ`sys`ï¼Œç”¨äºè·å–ç³»ç»Ÿå’Œå¹³å°ä¿¡æ¯ã€‚
2. **ç³»ç»Ÿå’Œæœºå™¨æ¶æ„çš„æ ¼å¼åŒ–**ï¼šå®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°`format_system`å’Œ`format_machine`ï¼Œåˆ†åˆ«ç”¨äºè·å–å’Œæ ¼å¼åŒ–æ“ä½œç³»ç»ŸåŠæœºå™¨æ¶æ„çš„ä¿¡æ¯ã€‚
3. **å¹³å°åˆ¤æ–­**ï¼šæ ¹æ®ä¸åŒçš„æ¡ä»¶åˆ¤æ–­ç³»ç»Ÿç±»å‹ï¼ˆå¦‚Windowsã€Linuxã€Androidç­‰ï¼‰å’Œæœºå™¨æ¶æ„ï¼ˆå¦‚x86ã€x86_64ã€ARMç­‰ï¼‰ã€‚
4. **åŠ¨æ€å¯¼å…¥**ï¼šæ ¹æ®è·å–åˆ°çš„ç³»ç»Ÿå’Œæ¶æ„ä¿¡æ¯ï¼Œæ„å»ºå‡ºpyarmorè¿è¡Œæ—¶æ¨¡å—çš„åç§°ï¼Œå¹¶åŠ¨æ€å¯¼å…¥è¯¥æ¨¡å—ã€‚
5. **è¿”å›å€¼**ï¼šæœ€ç»ˆå°†å¯¼å…¥çš„æ¨¡å—èµ‹å€¼ç»™`__pyarmor__`ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚

è¿™ä¸ªä»£ç çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯æ ¹æ®å½“å‰è¿è¡Œç¯å¢ƒåŠ¨æ€åŠ è½½pyarmorçš„è¿è¡Œæ—¶æ¨¡å—ï¼Œä»¥ä¾¿è¿›è¡Œåç»­çš„åŠ å¯†æˆ–ä¿æŠ¤æ“ä½œã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªPythonæ¨¡å—çš„åˆå§‹åŒ–æ–‡ä»¶ï¼Œä¸»è¦ç”¨äºåŠ¨æ€å¯¼å…¥ä¸€ä¸ªä¸å½“å‰Pythonç¯å¢ƒå’Œæ“ä½œç³»ç»Ÿç›¸å…³çš„æ¨¡å—ã€‚ä»¥ä¸‹æ˜¯å¯¹ä»£ç çš„é€è¡Œåˆ†æå’Œè¯´æ˜ã€‚

é¦–å…ˆï¼Œä»£ç å¯¼å…¥äº†`sys`æ¨¡å—ä¸­çš„`version_info`ï¼Œè¿™ä¸ªä¿¡æ¯ç”¨äºè·å–å½“å‰Pythonçš„ç‰ˆæœ¬ä¿¡æ¯ã€‚æ¥ç€å®šä¹‰äº†ä¸€ä¸ªåä¸º`__pyarmor__`çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°å†…éƒ¨åˆå®šä¹‰äº†ä¸¤ä¸ªè¾…åŠ©å‡½æ•°ï¼š`format_system`å’Œ`format_machine`ã€‚

`format_system`å‡½æ•°ç”¨äºè·å–å½“å‰æ“ä½œç³»ç»Ÿçš„ç±»å‹ã€‚å®ƒé€šè¿‡`platform.system()`è·å–æ“ä½œç³»ç»Ÿåç§°ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå°å†™ã€‚æ¥ç€æ ¹æ®æ“ä½œç³»ç»Ÿçš„ä¸åŒå‰ç¼€ï¼Œå°†å…¶æ ‡å‡†åŒ–ä¸º'windows'ã€'linux'ã€'freebsd'ç­‰ã€‚å¯¹äºLinuxç³»ç»Ÿï¼Œå‡½æ•°è¿˜æ£€æŸ¥æ˜¯å¦æ˜¯Androidç³»ç»Ÿï¼Œå¹¶æ ¹æ®Cæ ‡å‡†åº“çš„ç±»å‹è¿›ä¸€æ­¥ç»†åˆ†ä¸º'alpine'æˆ–'android'ã€‚

`format_machine`å‡½æ•°åˆ™ç”¨äºè·å–å½“å‰æœºå™¨çš„æ¶æ„ç±»å‹ã€‚å®ƒåŒæ ·é€šè¿‡`platform.machine()`è·å–æœºå™¨ç±»å‹ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå°å†™ã€‚ç„¶åï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªæ¶æ„æ˜ å°„è¡¨ï¼Œå°†ä¸åŒçš„æœºå™¨ç±»å‹æ˜ å°„åˆ°æ›´é€šç”¨çš„åç§°ï¼ˆå¦‚'x86'ã€'x86_64'ã€'arm'ç­‰ï¼‰ã€‚å‡½æ•°ä¼šéå†è¿™ä¸ªæ˜ å°„è¡¨ï¼Œå¦‚æœæ‰¾åˆ°åŒ¹é…çš„æœºå™¨ç±»å‹ï¼Œå°±å°†å…¶æ›¿æ¢ä¸ºé€šç”¨åç§°ã€‚

æ¥ä¸‹æ¥ï¼Œä»£ç è°ƒç”¨`format_system`å’Œ`format_machine`å‡½æ•°ï¼Œåˆ†åˆ«è·å–å½“å‰çš„æ“ä½œç³»ç»Ÿå’Œæœºå™¨æ¶æ„ã€‚ç‰¹åˆ«åœ°ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿæ˜¯Windowsä¸”æœºå™¨æ¶æ„æ˜¯x86_64ï¼Œä»£ç ä¼šè¿›ä¸€æ­¥æ£€æŸ¥æŒ‡é’ˆå¤§å°ï¼Œä»¥ç¡®å®šæ˜¯32ä½è¿˜æ˜¯64ä½ç³»ç»Ÿï¼Œå¹¶ç›¸åº”åœ°è°ƒæ•´æœºå™¨æ¶æ„çš„åç§°ã€‚

æœ€åï¼Œä»£ç æ„å»ºäº†ä¸€ä¸ªæ¨¡å—åç§°ï¼Œè¿™ä¸ªåç§°ç”±Pythonç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿå’Œæœºå™¨æ¶æ„ç»„æˆï¼Œå¹¶é™„åŠ ä¸Š`pyarmor_runtime`ã€‚è¿™ä¸ªæ¨¡å—åç§°çš„æ„å»ºä½¿å¾—å¯ä»¥æ ¹æ®ä¸åŒçš„ç¯å¢ƒåŠ¨æ€å¯¼å…¥ä¸åŒçš„æ¨¡å—ã€‚æœ€åï¼Œé€šè¿‡`__import__`å‡½æ•°å¯¼å…¥æ„å»ºçš„æ¨¡å—ï¼Œå¹¶è¿”å›è¯¥æ¨¡å—ä¸­çš„`__pyarmor__`å¯¹è±¡ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯æ ¹æ®å½“å‰çš„Pythonç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿå’Œæœºå™¨æ¶æ„åŠ¨æ€å¯¼å…¥ä¸€ä¸ªç‰¹å®šçš„æ¨¡å—ï¼Œä»¥æ”¯æŒä¸åŒç¯å¢ƒä¸‹çš„åŠŸèƒ½éœ€æ±‚ã€‚è¿™æ ·çš„è®¾è®¡ä½¿å¾—ä»£ç å…·æœ‰æ›´å¥½çš„å¯ç§»æ¤æ€§å’Œçµæ´»æ€§ã€‚

#### 11.2 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")


# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šæ‚¨çš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®šè„šæœ¬è·¯å¾„

    # è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `import sys`ï¼šå¯¼å…¥ç³»ç»Ÿç›¸å…³çš„æ¨¡å—ï¼Œç”¨äºè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - `import subprocess`ï¼šå¯¼å…¥å­è¿›ç¨‹æ¨¡å—ï¼Œç”¨äºåœ¨ Python ä¸­æ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

2. **å®šä¹‰å‡½æ•° `run_script`**ï¼š
   - å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä»¥ä¾¿åœ¨æ­£ç¡®çš„ç¯å¢ƒä¸­è¿è¡Œè„šæœ¬ã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸² `command`ï¼Œè¯¥å‘½ä»¤ä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œæ„å»ºçš„å‘½ä»¤ï¼Œå¹¶é€šè¿‡ `shell=True` å…è®¸åœ¨ shell ä¸­æ‰§è¡Œã€‚
   - æ£€æŸ¥å‘½ä»¤çš„è¿”å›ç ï¼Œå¦‚æœä¸ä¸º 0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯ã€‚

3. **ä¸»ç¨‹åºå—**ï¼š
   - ä½¿ç”¨ `if __name__ == "__main__":` ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ `script_path`ï¼Œåœ¨è¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®šä¸º `"web.py"`ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°ï¼Œä¼ å…¥è„šæœ¬è·¯å¾„ä»¥è¿è¡Œè¯¥è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶åä¸º `ui.py`ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ä½¿ç”¨å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ˜¯ä¸€ä¸ªåä¸º `web.py` çš„ Streamlit åº”ç”¨ã€‚

ç¨‹åºé¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œå…¶ä¸­ `sys` æ¨¡å—ç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ï¼Œ`os` æ¨¡å—æä¾›äº†ä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„åŠŸèƒ½ï¼Œè€Œ `subprocess` æ¨¡å—åˆ™ç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

æ¥ç€ï¼Œç¨‹åºä» `QtFusion.path` æ¨¡å—ä¸­å¯¼å…¥äº† `abs_path` å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯è·å–ç»™å®šè·¯å¾„çš„ç»å¯¹è·¯å¾„ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œé¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªå‚æ•° `script_path`ï¼Œå®ƒæ˜¯è¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚å‡½æ•°å†…éƒ¨é€šè¿‡ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œå¹¶å°†å…¶ä¸è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ç»“åˆï¼Œæ„å»ºå‡ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ã€‚è¿™ä¸ªå‘½ä»¤ä½¿ç”¨äº† Streamlit çš„è¿è¡Œæ–¹å¼ï¼Œå³é€šè¿‡ `-m streamlit run` æ¥æ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

éšåï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ‰§è¡Œæ„å»ºå¥½çš„å‘½ä»¤ã€‚å¦‚æœå‘½ä»¤æ‰§è¡Œåè¿”å›çš„çŠ¶æ€ç ä¸ä¸ºé›¶ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œç¨‹åºä¼šè¾“å‡ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` æ¥åˆ¤æ–­å½“å‰æ¨¡å—æ˜¯å¦æ˜¯ä¸»ç¨‹åºã€‚å¦‚æœæ˜¯ï¼Œåˆ™æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ä¸º `web.py` çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚

æ€»ä½“æ¥çœ‹ï¼Œè¿™ä¸ªç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯å°è£…äº†ä¸€ä¸ªè¿è¡Œ Streamlit åº”ç”¨çš„è¿‡ç¨‹ï¼Œæ–¹ä¾¿ç”¨æˆ·é€šè¿‡ `ui.py` æ¥å¯åŠ¨ `web.py` è„šæœ¬ã€‚

#### 11.3 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\hub\session.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import signal
import sys
from pathlib import Path
from time import sleep
import requests
from ultralytics.hub.utils import HUB_API_ROOT, HUB_WEB_ROOT, smart_request
from ultralytics.utils import LOGGER, __version__, checks, is_colab
from ultralytics.utils.errors import HUBModelError

AGENT_NAME = f'python-{__version__}-colab' if is_colab() else f'python-{__version__}-local'

class HUBTrainingSession:
    """
    HUBè®­ç»ƒä¼šè¯ï¼Œç”¨äºUltralytics HUB YOLOæ¨¡å‹ã€‚å¤„ç†æ¨¡å‹åˆå§‹åŒ–ã€å¿ƒè·³å’Œæ£€æŸ¥ç‚¹ä¸Šä¼ ã€‚
    """

    def __init__(self, url):
        """
        åˆå§‹åŒ–HUBTrainingSessionï¼Œä½¿ç”¨æä¾›çš„æ¨¡å‹æ ‡è¯†ç¬¦ã€‚

        å‚æ•°:
            url (str): ç”¨äºåˆå§‹åŒ–HUBè®­ç»ƒä¼šè¯çš„æ¨¡å‹æ ‡è¯†ç¬¦ï¼Œå¯ä»¥æ˜¯URLå­—ç¬¦ä¸²æˆ–ç‰¹å®šæ ¼å¼çš„æ¨¡å‹é”®ã€‚

        å¼‚å¸¸:
            ValueError: å¦‚æœæä¾›çš„æ¨¡å‹æ ‡è¯†ç¬¦æ— æ•ˆã€‚
            ConnectionError: å¦‚æœè¿æ¥å…¨å±€APIå¯†é’¥ä¸è¢«æ”¯æŒã€‚
        """
        from ultralytics.hub.auth import Auth

        # è§£æè¾“å…¥çš„URL
        if url.startswith(f'{HUB_WEB_ROOT}/models/'):
            url = url.split(f'{HUB_WEB_ROOT}/models/')[-1]
        if [len(x) for x in url.split('_')] == [42, 20]:
            key, model_id = url.split('_')
        elif len(url) == 20:
            key, model_id = '', url
        else:
            raise HUBModelError(f"model='{url}' not found. Check format is correct.")

        # æˆæƒ
        auth = Auth(key)
        self.agent_id = None  # è¯†åˆ«ä¸æœåŠ¡å™¨é€šä¿¡çš„å®ä¾‹
        self.model_id = model_id
        self.model_url = f'{HUB_WEB_ROOT}/models/{model_id}'
        self.api_url = f'{HUB_API_ROOT}/v1/models/{model_id}'
        self.auth_header = auth.get_auth_header()
        self.rate_limits = {'metrics': 3.0, 'ckpt': 900.0, 'heartbeat': 300.0}  # APIè°ƒç”¨çš„é€Ÿç‡é™åˆ¶ï¼ˆç§’ï¼‰
        self.timers = {}  # é€Ÿç‡é™åˆ¶è®¡æ—¶å™¨ï¼ˆç§’ï¼‰
        self.metrics_queue = {}  # æ¨¡å‹çš„æŒ‡æ ‡é˜Ÿåˆ—
        self.model = self._get_model()  # è·å–æ¨¡å‹æ•°æ®
        self.alive = True  # å¿ƒè·³å¾ªç¯æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€
        self._start_heartbeat()  # å¯åŠ¨å¿ƒè·³
        self._register_signal_handlers()  # æ³¨å†Œä¿¡å·å¤„ç†å™¨
        LOGGER.info(f'æŸ¥çœ‹æ¨¡å‹åœ¨ {self.model_url} ğŸš€')

    def _register_signal_handlers(self):
        """æ³¨å†Œä¿¡å·å¤„ç†å™¨ä»¥ä¼˜é›…åœ°å¤„ç†ç»ˆæ­¢ä¿¡å·ã€‚"""
        signal.signal(signal.SIGTERM, self._handle_signal)
        signal.signal(signal.SIGINT, self._handle_signal)

    def _handle_signal(self, signum, frame):
        """
        å¤„ç†ç»ˆæ­¢ä¿¡å·ï¼Œé˜²æ­¢åœ¨Colabä¸Šç»ˆæ­¢åå‘é€å¿ƒè·³ã€‚

        è¯¥æ–¹æ³•ä¸ä½¿ç”¨frameå‚æ•°ï¼Œå®ƒæ˜¯å› ä¸ºä¿¡å·ä¼ é€’è€ŒåŒ…å«çš„ã€‚
        """
        if self.alive:
            LOGGER.info('æ”¶åˆ°ç»ˆæ­¢ä¿¡å·! âŒ')
            self._stop_heartbeat()  # åœæ­¢å¿ƒè·³
            sys.exit(signum)  # é€€å‡ºç¨‹åº

    def _stop_heartbeat(self):
        """ç»ˆæ­¢å¿ƒè·³å¾ªç¯ã€‚"""
        self.alive = False

    def upload_metrics(self):
        """å°†æ¨¡å‹æŒ‡æ ‡ä¸Šä¼ åˆ°Ultralytics HUBã€‚"""
        payload = {'metrics': self.metrics_queue.copy(), 'type': 'metrics'}
        smart_request('post', self.api_url, json=payload, headers=self.auth_header)

    def _get_model(self):
        """ä»Ultralytics HUBè·å–å¹¶è¿”å›æ¨¡å‹æ•°æ®ã€‚"""
        api_url = f'{HUB_API_ROOT}/v1/models/{self.model_id}'

        try:
            response = smart_request('get', api_url, headers=self.auth_header)
            data = response.json().get('data', None)

            if data.get('status') == 'trained':
                raise ValueError('æ¨¡å‹å·²è®­ç»ƒå¹¶ä¸Šä¼ ã€‚')

            if not data.get('data'):
                raise ValueError('æ•°æ®é›†å¯èƒ½ä»åœ¨å¤„ç†ã€‚è¯·ç¨ç­‰å¹¶é‡è¯•ã€‚')
            self.model_id = data['id']

            if data['status'] == 'new':  # æ–°æ¨¡å‹å¼€å§‹è®­ç»ƒ
                self.train_args = {
                    'batch': data['batch_size'],
                    'epochs': data['epochs'],
                    'imgsz': data['imgsz'],
                    'patience': data['patience'],
                    'device': data['device'],
                    'cache': data['cache'],
                    'data': data['data']}
                self.model_file = data.get('cfg') or data.get('weights')
                self.model_file = checks.check_yolov5u_filename(self.model_file, verbose=False)
            elif data['status'] == 'training':  # ç»§ç»­è®­ç»ƒç°æœ‰æ¨¡å‹
                self.train_args = {'data': data['data'], 'resume': True}
                self.model_file = data['resume']

            return data
        except requests.exceptions.ConnectionError as e:
            raise ConnectionRefusedError('é”™è¯¯: HUBæœåŠ¡å™¨æœªåœ¨çº¿ã€‚è¯·ç¨åå†è¯•ã€‚') from e

    @threaded
    def _start_heartbeat(self):
        """å¼€å§‹ä¸€ä¸ªçº¿ç¨‹å¿ƒè·³å¾ªç¯ï¼Œå‘Ultralytics HUBæŠ¥å‘Šä»£ç†çš„çŠ¶æ€ã€‚"""
        while self.alive:
            r = smart_request('post',
                              f'{HUB_API_ROOT}/v1/agent/heartbeat/models/{self.model_id}',
                              json={'agent': AGENT_NAME, 'agentId': self.agent_id},
                              headers=self.auth_header)
            self.agent_id = r.json().get('data', {}).get('agentId', None)
            sleep(self.rate_limits['heartbeat'])  # æ ¹æ®é€Ÿç‡é™åˆ¶è¿›è¡Œä¼‘çœ 
```

### ä»£ç è¯´æ˜ï¼š
1. **HUBTrainingSessionç±»**ï¼šè¯¥ç±»ç”¨äºç®¡ç†ä¸Ultralytics HUBçš„è®­ç»ƒä¼šè¯ï¼ŒåŒ…æ‹¬æ¨¡å‹çš„åˆå§‹åŒ–ã€å¿ƒè·³ç›‘æµ‹å’ŒæŒ‡æ ‡ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼šåœ¨åˆå§‹åŒ–æ—¶ï¼Œè§£ææ¨¡å‹çš„URLï¼Œè¿›è¡Œæˆæƒï¼Œè®¾ç½®ç›¸å…³çš„å‚æ•°å’ŒçŠ¶æ€ã€‚
3. **ä¿¡å·å¤„ç†**ï¼šæ³¨å†Œäº†ä¿¡å·å¤„ç†å™¨ï¼Œä»¥ä¾¿åœ¨æ¥æ”¶åˆ°ç»ˆæ­¢ä¿¡å·æ—¶ä¼˜é›…åœ°åœæ­¢å¿ƒè·³ã€‚
4. **æ¨¡å‹è·å–**ï¼šé€šè¿‡APIè¯·æ±‚è·å–æ¨¡å‹çš„çŠ¶æ€å’Œç›¸å…³æ•°æ®ï¼Œå¹¶æ ¹æ®çŠ¶æ€è®¾ç½®è®­ç»ƒå‚æ•°ã€‚
5. **å¿ƒè·³æœºåˆ¶**ï¼šé€šè¿‡ä¸€ä¸ªçº¿ç¨‹å®šæœŸå‘Ultralytics HUBå‘é€å¿ƒè·³ï¼ŒæŠ¥å‘Šä»£ç†çš„çŠ¶æ€ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `HUBTrainingSession` çš„ç±»ï¼Œä¸»è¦ç”¨äºç®¡ç† Ultralytics HUB ä¸Š YOLO æ¨¡å‹çš„è®­ç»ƒä¼šè¯ã€‚è¯¥ç±»çš„åŠŸèƒ½åŒ…æ‹¬æ¨¡å‹åˆå§‹åŒ–ã€å¿ƒè·³ä¿¡å·å‘é€å’Œæ£€æŸ¥ç‚¹ä¸Šä¼ ç­‰ã€‚

åœ¨ç±»çš„åˆå§‹åŒ–æ–¹æ³• `__init__` ä¸­ï¼Œé¦–å…ˆä¼šè§£æä¼ å…¥çš„æ¨¡å‹æ ‡è¯†ç¬¦ `url`ï¼Œè¯¥æ ‡è¯†ç¬¦å¯ä»¥æ˜¯ä¸€ä¸ª URL å­—ç¬¦ä¸²æˆ–ç‰¹å®šæ ¼å¼çš„æ¨¡å‹é”®ã€‚è§£æåï¼Œå¦‚æœæ ¼å¼ä¸æ­£ç¡®ï¼Œåˆ™ä¼šæŠ›å‡º `HUBModelError` å¼‚å¸¸ã€‚æ¥ç€ï¼Œä½¿ç”¨ `Auth` ç±»è¿›è¡Œèº«ä»½éªŒè¯ï¼Œå¹¶åˆå§‹åŒ–ä¸æ¨¡å‹ç›¸å…³çš„å„ç§å±æ€§ï¼ŒåŒ…æ‹¬æ¨¡å‹çš„ IDã€URLã€API URLã€èº«ä»½éªŒè¯å¤´ã€é€Ÿç‡é™åˆ¶ã€è®¡æ—¶å™¨ã€æ¨¡å‹æ•°æ®ç­‰ã€‚ç„¶åï¼Œå¯åŠ¨å¿ƒè·³æœºåˆ¶ä»¥å®šæœŸå‘æœåŠ¡å™¨æŠ¥å‘ŠçŠ¶æ€ï¼Œå¹¶æ³¨å†Œä¿¡å·å¤„ç†ç¨‹åºä»¥ä¼˜é›…åœ°å¤„ç†ç»ˆæ­¢ä¿¡å·ã€‚

ç±»ä¸­æœ‰å¤šä¸ªæ–¹æ³•ï¼Œå…¶ä¸­ `_register_signal_handlers` æ–¹æ³•ç”¨äºæ³¨å†Œä¿¡å·å¤„ç†ç¨‹åºï¼Œä»¥ä¾¿åœ¨æ¥æ”¶åˆ°ç»ˆæ­¢ä¿¡å·æ—¶èƒ½å¤Ÿæ­£ç¡®å¤„ç†ã€‚`_handle_signal` æ–¹æ³•åˆ™æ˜¯å¤„ç†æ¥æ”¶åˆ°çš„ä¿¡å·ï¼Œåœæ­¢å¿ƒè·³å¹¶é€€å‡ºç¨‹åºã€‚`upload_metrics` æ–¹æ³•ç”¨äºå°†æ¨¡å‹çš„æ€§èƒ½æŒ‡æ ‡ä¸Šä¼ åˆ° Ultralytics HUBã€‚`_get_model` æ–¹æ³•ä» Ultralytics HUB è·å–æ¨¡å‹æ•°æ®ï¼Œå¹¶æ ¹æ®æ¨¡å‹çš„çŠ¶æ€è®¾ç½®è®­ç»ƒå‚æ•°ã€‚

æ­¤å¤–ï¼Œ`upload_model` æ–¹æ³•ç”¨äºå°†æ¨¡å‹çš„æ£€æŸ¥ç‚¹ä¸Šä¼ åˆ° Ultralytics HUBï¼Œæ”¯æŒä¸Šä¼ å½“å‰è®­ç»ƒçš„æƒé‡æ–‡ä»¶ä»¥åŠæ ‡è®°å½“å‰æ¨¡å‹æ˜¯å¦ä¸ºæœ€ä½³æ¨¡å‹ã€‚æœ€åï¼Œ`_start_heartbeat` æ–¹æ³•åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œï¼Œå®šæœŸå‘æœåŠ¡å™¨å‘é€å¿ƒè·³ä¿¡å·ï¼ŒæŠ¥å‘Šä»£ç†çš„çŠ¶æ€ã€‚

æ•´ä¸ªç±»çš„è®¾è®¡æ—¨åœ¨ç®€åŒ–ä¸ Ultralytics HUB çš„äº¤äº’ï¼Œä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°ç®¡ç† YOLO æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼Œå¹¶åŠæ—¶ä¸Šä¼ è®­ç»ƒæ•°æ®å’Œæ¨¡å‹æƒé‡ã€‚

#### 11.4 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\rtdetr\__init__.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
# å¯¼å…¥RTDETRæ¨¡å‹ã€é¢„æµ‹å™¨å’ŒéªŒè¯å™¨
from .model import RTDETR  # å¯¼å…¥RTDETRæ¨¡å‹ç±»
from .predict import RTDETRPredictor  # å¯¼å…¥RTDETRé¢„æµ‹å™¨ç±»
from .val import RTDETRValidator  # å¯¼å…¥RTDETRéªŒè¯å™¨ç±»

# å®šä¹‰æ¨¡å—çš„å…¬å¼€æ¥å£ï¼ŒåŒ…å«RTDETRæ¨¡å‹ã€é¢„æµ‹å™¨å’ŒéªŒè¯å™¨
__all__ = 'RTDETRPredictor', 'RTDETRValidator', 'RTDETR'
```

### æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `from .model import RTDETR`ï¼šä»å½“å‰åŒ…çš„`model`æ¨¡å—ä¸­å¯¼å…¥`RTDETR`ç±»ï¼Œ`RTDETR`æ˜¯ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹çš„æ¨¡å‹ã€‚
   - `from .predict import RTDETRPredictor`ï¼šä»å½“å‰åŒ…çš„`predict`æ¨¡å—ä¸­å¯¼å…¥`RTDETRPredictor`ç±»ï¼Œè´Ÿè´£ä½¿ç”¨`RTDETR`æ¨¡å‹è¿›è¡Œé¢„æµ‹ã€‚
   - `from .val import RTDETRValidator`ï¼šä»å½“å‰åŒ…çš„`val`æ¨¡å—ä¸­å¯¼å…¥`RTDETRValidator`ç±»ï¼Œè´Ÿè´£å¯¹æ¨¡å‹çš„æ€§èƒ½è¿›è¡ŒéªŒè¯ã€‚

2. **å®šä¹‰å…¬å¼€æ¥å£**ï¼š
   - `__all__`ï¼šè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œç”¨äºå®šä¹‰æ¨¡å—çš„å…¬å…±æ¥å£ã€‚åªæœ‰åœ¨ä½¿ç”¨`from module import *`æ—¶ï¼Œåˆ—å‡ºçš„åç§°æ‰ä¼šè¢«å¯¼å…¥ã€‚è¿™é‡Œåˆ—å‡ºäº†`RTDETRPredictor`ã€`RTDETRValidator`å’Œ`RTDETR`ï¼Œè¡¨ç¤ºè¿™äº›æ˜¯æ¨¡å—çš„ä¸»è¦åŠŸèƒ½éƒ¨åˆ†ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLOé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºå®ç°RTDETRï¼ˆReal-Time Detection Transformerï¼‰æ¨¡å‹çš„ç›¸å…³åŠŸèƒ½ã€‚æ–‡ä»¶ä¸­é¦–å…ˆå£°æ˜äº†è¯¥é¡¹ç›®ä½¿ç”¨AGPL-3.0è®¸å¯è¯ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ä»£ç ï¼Œä½†éœ€è¦éµå¾ªç›¸åº”çš„è®¸å¯è¯æ¡æ¬¾ã€‚

æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶é€šè¿‡ç›¸å¯¹å¯¼å…¥çš„æ–¹å¼å¼•å…¥äº†ä¸‰ä¸ªæ¨¡å—ï¼šRTDETRã€RTDETRPredictorå’ŒRTDETRValidatorã€‚è¿™äº›æ¨¡å—åˆ†åˆ«è´Ÿè´£æ¨¡å‹çš„å®šä¹‰ã€é¢„æµ‹åŠŸèƒ½å’ŒéªŒè¯åŠŸèƒ½ã€‚å…·ä½“æ¥è¯´ï¼ŒRTDETRæ¨¡å—åŒ…å«äº†æ¨¡å‹çš„æ ¸å¿ƒç»“æ„å’Œç®—æ³•å®ç°ï¼ŒRTDETRPredictoræ¨¡å—ç”¨äºè¿›è¡Œå®æ—¶é¢„æµ‹ï¼ŒRTDETRValidatoræ¨¡å—åˆ™ç”¨äºéªŒè¯æ¨¡å‹çš„æ€§èƒ½å’Œå‡†ç¡®æ€§ã€‚

æœ€åï¼Œ`__all__`å˜é‡è¢«å®šä¹‰ä¸ºä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²çš„å…ƒç»„ï¼Œåˆ—å‡ºäº†è¯¥æ¨¡å—å¯¹å¤–å…¬å¼€çš„æ¥å£ã€‚è¿™æ„å‘³ç€å½“ä½¿ç”¨`from module import *`è¯­å¥æ—¶ï¼Œåªä¼šå¯¼å…¥è¿™äº›æŒ‡å®šçš„å¯¹è±¡ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨è¯¥æ¨¡å—ï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†ä¸å¿…è¦çš„å‘½åå†²çªã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯RTDETRæ¨¡å‹å®ç°çš„åŸºç¡€éƒ¨åˆ†ï¼Œè´Ÿè´£æ¨¡å—çš„ç»„ç»‡å’Œæ¥å£çš„å®šä¹‰ï¼Œä¸ºåç»­çš„æ¨¡å‹è®­ç»ƒå’Œæ¨ç†æä¾›äº†å¿…è¦çš„æ”¯æŒã€‚

#### 11.5 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\tal.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import torch
import torch.nn as nn

def select_candidates_in_gts(xy_centers, gt_bboxes, eps=1e-9):
    """
    é€‰æ‹©åœ¨çœŸå®æ¡†(gt)ä¸­çš„æ­£é”šç‚¹ä¸­å¿ƒã€‚

    å‚æ•°:
        xy_centers (Tensor): å½¢çŠ¶ä¸º(h*w, 2)çš„å¼ é‡ï¼Œè¡¨ç¤ºé”šç‚¹çš„ä¸­å¿ƒåæ ‡ã€‚
        gt_bboxes (Tensor): å½¢çŠ¶ä¸º(b, n_boxes, 4)çš„å¼ é‡ï¼Œè¡¨ç¤ºçœŸå®æ¡†çš„åæ ‡ã€‚

    è¿”å›:
        (Tensor): å½¢çŠ¶ä¸º(b, n_boxes, h*w)çš„å¼ é‡ï¼Œè¡¨ç¤ºæ¯ä¸ªçœŸå®æ¡†å†…çš„é”šç‚¹ä¸­å¿ƒã€‚
    """
    n_anchors = xy_centers.shape[0]  # é”šç‚¹æ•°é‡
    bs, n_boxes, _ = gt_bboxes.shape  # æ‰¹é‡å¤§å°å’ŒçœŸå®æ¡†æ•°é‡
    lt, rb = gt_bboxes.view(-1, 1, 4).chunk(2, 2)  # åˆ†å‰²çœŸå®æ¡†ä¸ºå·¦ä¸Šè§’å’Œå³ä¸‹è§’
    bbox_deltas = torch.cat((xy_centers[None] - lt, rb - xy_centers[None]), dim=2).view(bs, n_boxes, n_anchors, -1)
    return bbox_deltas.amin(3).gt_(eps)  # è¿”å›æ¯ä¸ªé”šç‚¹æ˜¯å¦åœ¨çœŸå®æ¡†å†…çš„å¸ƒå°”å€¼

class TaskAlignedAssigner(nn.Module):
    """
    ç”¨äºç›®æ ‡æ£€æµ‹çš„ä»»åŠ¡å¯¹é½åˆ†é…å™¨ã€‚

    æ­¤ç±»æ ¹æ®ä»»åŠ¡å¯¹é½æŒ‡æ ‡å°†çœŸå®å¯¹è±¡åˆ†é…ç»™é”šç‚¹ï¼Œè¯¥æŒ‡æ ‡ç»“åˆäº†åˆ†ç±»å’Œå®šä½ä¿¡æ¯ã€‚

    å±æ€§:
        topk (int): è€ƒè™‘çš„å€™é€‰æ¡†æ•°é‡ã€‚
        num_classes (int): ç›®æ ‡ç±»åˆ«æ•°é‡ã€‚
        alpha (float): åˆ†ç±»ç»„ä»¶çš„alphaå‚æ•°ã€‚
        beta (float): å®šä½ç»„ä»¶çš„betaå‚æ•°ã€‚
        eps (float): é˜²æ­¢é™¤ä»¥é›¶çš„å°å€¼ã€‚
    """

    def __init__(self, topk=13, num_classes=80, alpha=1.0, beta=6.0, eps=1e-9):
        """åˆå§‹åŒ–ä»»åŠ¡å¯¹é½åˆ†é…å™¨å¯¹è±¡ï¼Œè®¾ç½®å¯è°ƒè¶…å‚æ•°ã€‚"""
        super().__init__()
        self.topk = topk
        self.num_classes = num_classes
        self.bg_idx = num_classes  # èƒŒæ™¯ç±»åˆ«ç´¢å¼•
        self.alpha = alpha
        self.beta = beta
        self.eps = eps

    @torch.no_grad()
    def forward(self, pd_scores, pd_bboxes, anc_points, gt_labels, gt_bboxes, mask_gt):
        """
        è®¡ç®—ä»»åŠ¡å¯¹é½åˆ†é…ã€‚

        å‚æ•°:
            pd_scores (Tensor): å½¢çŠ¶ä¸º(bs, num_total_anchors, num_classes)çš„å¼ é‡ï¼Œè¡¨ç¤ºé¢„æµ‹çš„å¾—åˆ†ã€‚
            pd_bboxes (Tensor): å½¢çŠ¶ä¸º(bs, num_total_anchors, 4)çš„å¼ é‡ï¼Œè¡¨ç¤ºé¢„æµ‹çš„è¾¹ç•Œæ¡†ã€‚
            anc_points (Tensor): å½¢çŠ¶ä¸º(num_total_anchors, 2)çš„å¼ é‡ï¼Œè¡¨ç¤ºé”šç‚¹çš„åæ ‡ã€‚
            gt_labels (Tensor): å½¢çŠ¶ä¸º(bs, n_max_boxes, 1)çš„å¼ é‡ï¼Œè¡¨ç¤ºçœŸå®æ¡†çš„æ ‡ç­¾ã€‚
            gt_bboxes (Tensor): å½¢çŠ¶ä¸º(bs, n_max_boxes, 4)çš„å¼ é‡ï¼Œè¡¨ç¤ºçœŸå®æ¡†çš„åæ ‡ã€‚
            mask_gt (Tensor): å½¢çŠ¶ä¸º(bs, n_max_boxes, 1)çš„å¼ é‡ï¼Œè¡¨ç¤ºçœŸå®æ¡†çš„æ©ç ã€‚

        è¿”å›:
            target_labels (Tensor): å½¢çŠ¶ä¸º(bs, num_total_anchors)çš„å¼ é‡ï¼ŒåŒ…å«ç›®æ ‡é”šç‚¹çš„æ ‡ç­¾ã€‚
            target_bboxes (Tensor): å½¢çŠ¶ä¸º(bs, num_total_anchors, 4)çš„å¼ é‡ï¼ŒåŒ…å«ç›®æ ‡é”šç‚¹çš„è¾¹ç•Œæ¡†ã€‚
            target_scores (Tensor): å½¢çŠ¶ä¸º(bs, num_total_anchors, num_classes)çš„å¼ é‡ï¼ŒåŒ…å«ç›®æ ‡é”šç‚¹çš„å¾—åˆ†ã€‚
            fg_mask (Tensor): å½¢çŠ¶ä¸º(bs, num_total_anchors)çš„å¸ƒå°”å¼ é‡ï¼Œè¡¨ç¤ºæ­£é”šç‚¹ã€‚
            target_gt_idx (Tensor): å½¢çŠ¶ä¸º(bs, num_total_anchors)çš„å¼ é‡ï¼Œè¡¨ç¤ºç›®æ ‡çœŸå®æ¡†çš„ç´¢å¼•ã€‚
        """
        self.bs = pd_scores.size(0)  # æ‰¹é‡å¤§å°
        self.n_max_boxes = gt_bboxes.size(1)  # æœ€å¤§çœŸå®æ¡†æ•°é‡

        if self.n_max_boxes == 0:  # å¦‚æœæ²¡æœ‰çœŸå®æ¡†
            device = gt_bboxes.device
            return (torch.full_like(pd_scores[..., 0], self.bg_idx).to(device), 
                    torch.zeros_like(pd_bboxes).to(device),
                    torch.zeros_like(pd_scores).to(device), 
                    torch.zeros_like(pd_scores[..., 0]).to(device),
                    torch.zeros_like(pd_scores[..., 0]).to(device))

        mask_pos, align_metric, overlaps = self.get_pos_mask(pd_scores, pd_bboxes, gt_labels, gt_bboxes, anc_points, mask_gt)

        target_gt_idx, fg_mask, mask_pos = select_highest_overlaps(mask_pos, overlaps, self.n_max_boxes)

        # è·å–ç›®æ ‡æ ‡ç­¾ã€è¾¹ç•Œæ¡†å’Œå¾—åˆ†
        target_labels, target_bboxes, target_scores = self.get_targets(gt_labels, gt_bboxes, target_gt_idx, fg_mask)

        # å½’ä¸€åŒ–
        align_metric *= mask_pos
        pos_align_metrics = align_metric.amax(dim=-1, keepdim=True)  # è®¡ç®—æ­£æ ·æœ¬çš„å¯¹é½æŒ‡æ ‡
        pos_overlaps = (overlaps * mask_pos).amax(dim=-1, keepdim=True)  # è®¡ç®—æ­£æ ·æœ¬çš„é‡å åº¦
        norm_align_metric = (align_metric * pos_overlaps / (pos_align_metrics + self.eps)).amax(-2).unsqueeze(-1)
        target_scores = target_scores * norm_align_metric  # æ›´æ–°ç›®æ ‡å¾—åˆ†

        return target_labels, target_bboxes, target_scores, fg_mask.bool(), target_gt_idx

    def get_pos_mask(self, pd_scores, pd_bboxes, gt_labels, gt_bboxes, anc_points, mask_gt):
        """è·å–åœ¨çœŸå®æ¡†å†…çš„æ©ç ï¼Œå½¢çŠ¶ä¸º(b, max_num_obj, h*w)ã€‚"""
        mask_in_gts = select_candidates_in_gts(anc_points, gt_bboxes)  # è·å–åœ¨çœŸå®æ¡†å†…çš„é”šç‚¹æ©ç 
        align_metric, overlaps = self.get_box_metrics(pd_scores, pd_bboxes, gt_labels, gt_bboxes, mask_in_gts * mask_gt)  # è®¡ç®—å¯¹é½æŒ‡æ ‡å’Œé‡å åº¦
        mask_topk = self.select_topk_candidates(align_metric, topk_mask=mask_gt.expand(-1, -1, self.topk).bool())  # é€‰æ‹©top-kå€™é€‰
        mask_pos = mask_topk * mask_in_gts * mask_gt  # åˆå¹¶æ©ç 

        return mask_pos, align_metric, overlaps

    def get_box_metrics(self, pd_scores, pd_bboxes, gt_labels, gt_bboxes, mask_gt):
        """è®¡ç®—ç»™å®šé¢„æµ‹å’ŒçœŸå®è¾¹ç•Œæ¡†çš„å¯¹é½æŒ‡æ ‡ã€‚"""
        na = pd_bboxes.shape[-2]  # é”šç‚¹æ•°é‡
        mask_gt = mask_gt.bool()  # è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹
        overlaps = torch.zeros([self.bs, self.n_max_boxes, na], dtype=pd_bboxes.dtype, device=pd_bboxes.device)  # åˆå§‹åŒ–é‡å åº¦å¼ é‡
        bbox_scores = torch.zeros([self.bs, self.n_max_boxes, na], dtype=pd_scores.dtype, device=pd_scores.device)  # åˆå§‹åŒ–è¾¹ç•Œæ¡†å¾—åˆ†å¼ é‡

        ind = torch.zeros([2, self.bs, self.n_max_boxes], dtype=torch.long)  # åˆå§‹åŒ–ç´¢å¼•å¼ é‡
        ind[0] = torch.arange(end=self.bs).view(-1, 1).expand(-1, self.n_max_boxes)  # æ‰¹é‡ç´¢å¼•
        ind[1] = gt_labels.squeeze(-1)  # çœŸå®æ¡†æ ‡ç­¾ç´¢å¼•
        bbox_scores[mask_gt] = pd_scores[ind[0], :, ind[1]][mask_gt]  # è·å–æ¯ä¸ªé”šç‚¹çš„å¾—åˆ†

        # è®¡ç®—é‡å åº¦
        pd_boxes = pd_bboxes.unsqueeze(1).expand(-1, self.n_max_boxes, -1, -1)[mask_gt]  # æ‰©å±•é¢„æµ‹è¾¹ç•Œæ¡†
        gt_boxes = gt_bboxes.unsqueeze(2).expand(-1, -1, na, -1)[mask_gt]  # æ‰©å±•çœŸå®è¾¹ç•Œæ¡†
        overlaps[mask_gt] = bbox_iou(gt_boxes, pd_boxes, xywh=False, CIoU=True).squeeze(-1).clamp_(0)  # è®¡ç®—IoU

        align_metric = bbox_scores.pow(self.alpha) * overlaps.pow(self.beta)  # è®¡ç®—å¯¹é½æŒ‡æ ‡
        return align_metric, overlaps

    def get_targets(self, gt_labels, gt_bboxes, target_gt_idx, fg_mask):
        """
        è®¡ç®—æ­£é”šç‚¹çš„ç›®æ ‡æ ‡ç­¾ã€ç›®æ ‡è¾¹ç•Œæ¡†å’Œç›®æ ‡å¾—åˆ†ã€‚

        å‚æ•°:
            gt_labels (Tensor): çœŸå®æ¡†æ ‡ç­¾ï¼Œå½¢çŠ¶ä¸º(b, max_num_obj, 1)ã€‚
            gt_bboxes (Tensor): çœŸå®æ¡†è¾¹ç•Œæ¡†ï¼Œå½¢çŠ¶ä¸º(b, max_num_obj, 4)ã€‚
            target_gt_idx (Tensor): æ­£é”šç‚¹çš„çœŸå®æ¡†ç´¢å¼•ï¼Œå½¢çŠ¶ä¸º(b, h*w)ã€‚
            fg_mask (Tensor): å¸ƒå°”å¼ é‡ï¼Œå½¢çŠ¶ä¸º(b, h*w)ï¼Œè¡¨ç¤ºæ­£é”šç‚¹ã€‚

        è¿”å›:
            (Tuple[Tensor, Tensor, Tensor]): åŒ…å«ç›®æ ‡æ ‡ç­¾ã€ç›®æ ‡è¾¹ç•Œæ¡†å’Œç›®æ ‡å¾—åˆ†çš„å…ƒç»„ã€‚
        """
        batch_ind = torch.arange(end=self.bs, dtype=torch.int64, device=gt_labels.device)[..., None]
        target_gt_idx = target_gt_idx + batch_ind * self.n_max_boxes  # è®¡ç®—ç›®æ ‡çœŸå®æ¡†ç´¢å¼•
        target_labels = gt_labels.long().flatten()[target_gt_idx]  # è·å–ç›®æ ‡æ ‡ç­¾

        target_bboxes = gt_bboxes.view(-1, 4)[target_gt_idx]  # è·å–ç›®æ ‡è¾¹ç•Œæ¡†

        target_labels.clamp_(0)  # é™åˆ¶æ ‡ç­¾å€¼åœ¨æœ‰æ•ˆèŒƒå›´å†…

        # 10å€äºF.one_hot()çš„é€Ÿåº¦
        target_scores = torch.zeros((target_labels.shape[0], target_labels.shape[1], self.num_classes),
                                    dtype=torch.int64,
                                    device=target_labels.device)  # åˆå§‹åŒ–ç›®æ ‡å¾—åˆ†å¼ é‡
        target_scores.scatter_(2, target_labels.unsqueeze(-1), 1)  # æ ¹æ®ç›®æ ‡æ ‡ç­¾å¡«å……å¾—åˆ†

        fg_scores_mask = fg_mask[:, :, None].repeat(1, 1, self.num_classes)  # æ‰©å±•å‰æ™¯æ©ç 
        target_scores = torch.where(fg_scores_mask > 0, target_scores, 0)  # æ ¹æ®å‰æ™¯æ©ç æ›´æ–°å¾—åˆ†

        return target_labels, target_bboxes, target_scores
```

ä»¥ä¸Šä»£ç ä¸»è¦å®ç°äº†ä¸€ä¸ªä»»åŠ¡å¯¹é½åˆ†é…å™¨ï¼ˆ`TaskAlignedAssigner`ï¼‰ï¼Œç”¨äºåœ¨ç›®æ ‡æ£€æµ‹ä¸­å°†çœŸå®æ¡†åˆ†é…ç»™é”šç‚¹ã€‚ä»£ç ä¸­åŒ…å«äº†é€‰æ‹©æ­£é”šç‚¹ã€è®¡ç®—å¯¹é½æŒ‡æ ‡ã€é€‰æ‹©top-kå€™é€‰ä»¥åŠç”Ÿæˆç›®æ ‡æ ‡ç­¾ã€è¾¹ç•Œæ¡†å’Œå¾—åˆ†çš„åŠŸèƒ½ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLOï¼ˆYou Only Look Onceï¼‰æ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºç›®æ ‡æ£€æµ‹ä»»åŠ¡ä¸­çš„é”šæ¡†ï¼ˆanchor boxï¼‰åˆ†é…å’Œå¤„ç†ã€‚ä»£ç ä¸­å®šä¹‰äº†ä¸€äº›å‡½æ•°å’Œä¸€ä¸ªç±»ï¼Œä¸»è¦ç”¨äºè®¡ç®—å’Œé€‰æ‹©ä¸çœŸå®ç›®æ ‡ï¼ˆground truthï¼‰æ¡†ç›¸å¯¹åº”çš„é”šæ¡†ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬PyTorchå’Œä¸€äº›è‡ªå®šä¹‰çš„æ¨¡å—ã€‚æ¥ç€ï¼Œå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°`select_candidates_in_gts`ï¼Œè¯¥å‡½æ•°ç”¨äºé€‰æ‹©ä¸çœŸå®ç›®æ ‡æ¡†ï¼ˆgt_bboxesï¼‰é‡å çš„é”šæ¡†ä¸­å¿ƒï¼ˆxy_centersï¼‰ã€‚å®ƒé€šè¿‡è®¡ç®—é”šæ¡†ä¸­å¿ƒä¸çœŸå®æ¡†çš„è·ç¦»ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å¼ é‡ï¼ŒæŒ‡ç¤ºå“ªäº›é”šæ¡†æ˜¯æœ‰æ•ˆçš„ã€‚

æ¥ä¸‹æ¥ï¼Œ`select_highest_overlaps`å‡½æ•°ç”¨äºå¤„ç†é”šæ¡†ä¸å¤šä¸ªçœŸå®æ¡†ä¹‹é—´çš„é‡å æƒ…å†µã€‚å¦‚æœä¸€ä¸ªé”šæ¡†è¢«åˆ†é…ç»™å¤šä¸ªçœŸå®æ¡†ï¼Œå®ƒä¼šé€‰æ‹©ä¸çœŸå®æ¡†é‡å åº¦æœ€é«˜çš„é‚£ä¸ªã€‚è¿™ä¸ªå‡½æ•°è¿”å›ç›®æ ‡æ¡†çš„ç´¢å¼•ã€å‰æ™¯æ©ç å’Œæ›´æ–°åçš„æ©ç ã€‚

ç„¶åï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º`TaskAlignedAssigner`çš„ç±»ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹çš„ä»»åŠ¡å¯¹é½åˆ†é…å™¨ã€‚è¯¥ç±»çš„æ„é€ å‡½æ•°åˆå§‹åŒ–äº†ä¸€äº›è¶…å‚æ•°ï¼ŒåŒ…æ‹¬è€ƒè™‘çš„å€™é€‰æ¡†æ•°é‡ã€ç±»åˆ«æ•°é‡ã€åˆ†ç±»å’Œå®šä½çš„æƒé‡ç­‰ã€‚åœ¨`forward`æ–¹æ³•ä¸­ï¼Œè¯¥ç±»å®ç°äº†ä»»åŠ¡å¯¹é½çš„åˆ†é…é€»è¾‘ï¼Œè®¡ç®—æ¯ä¸ªé”šæ¡†çš„ç›®æ ‡æ ‡ç­¾ã€ç›®æ ‡æ¡†å’Œç›®æ ‡åˆ†æ•°ã€‚

åœ¨`get_pos_mask`æ–¹æ³•ä¸­ï¼Œè®¡ç®—æœ‰æ•ˆé”šæ¡†çš„æ©ç ï¼Œç»“åˆäº†é”šæ¡†ä¸çœŸå®æ¡†çš„é‡å æƒ…å†µå’Œå¯¹é½åº¦ã€‚åœ¨`get_box_metrics`æ–¹æ³•ä¸­ï¼Œè®¡ç®—é¢„æµ‹æ¡†ä¸çœŸå®æ¡†ä¹‹é—´çš„å¯¹é½åº¦å’Œé‡å åº¦ï¼Œè¿”å›è¿™äº›æŒ‡æ ‡ä»¥ä¾›åç»­ä½¿ç”¨ã€‚

`select_topk_candidates`æ–¹æ³•ç”¨äºé€‰æ‹©å‰kä¸ªå€™é€‰æ¡†ï¼ŒåŸºäºç»™å®šçš„æŒ‡æ ‡è¿›è¡Œæ’åºã€‚`get_targets`æ–¹æ³•åˆ™è®¡ç®—æ­£é”šæ¡†çš„ç›®æ ‡æ ‡ç­¾ã€ç›®æ ‡æ¡†å’Œç›®æ ‡åˆ†æ•°ã€‚

æ­¤å¤–ï¼Œæ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†ä¸€äº›è¾…åŠ©å‡½æ•°ï¼Œå¦‚`make_anchors`ç”¨äºç”Ÿæˆé”šæ¡†ï¼Œ`dist2bbox`å’Œ`bbox2dist`ç”¨äºåœ¨é”šæ¡†å’ŒçœŸå®æ¡†ä¹‹é—´è¿›è¡Œåæ ‡è½¬æ¢ã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº†YOLOæ¨¡å‹ä¸­é”šæ¡†çš„é€‰æ‹©å’Œåˆ†é…é€»è¾‘ï¼Œä¸ºç›®æ ‡æ£€æµ‹ä»»åŠ¡æä¾›äº†åŸºç¡€åŠŸèƒ½ã€‚é€šè¿‡åˆç†çš„é”šæ¡†åˆ†é…ï¼Œå¯ä»¥æé«˜æ¨¡å‹çš„æ£€æµ‹ç²¾åº¦å’Œæ•ˆç‡ã€‚

#### 11.6 train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦é›†ä¸­åœ¨ YOLO æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½ã€æ¨¡å‹è®¾ç½®ç­‰åŠŸèƒ½ã€‚

```python
import random
import numpy as np
import torch.nn as nn
from ultralytics.data import build_dataloader, build_yolo_dataset
from ultralytics.engine.trainer import BaseTrainer
from ultralytics.models import yolo
from ultralytics.nn.tasks import DetectionModel
from ultralytics.utils import LOGGER, RANK
from ultralytics.utils.torch_utils import de_parallel, torch_distributed_zero_first

class DetectionTrainer(BaseTrainer):
    """
    æ‰©å±•è‡ª BaseTrainer ç±»ï¼Œç”¨äºåŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»º YOLO æ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œ`train` æˆ– `val`ï¼Œç”¨æˆ·å¯ä»¥ä¸ºæ¯ç§æ¨¡å¼è‡ªå®šä¹‰ä¸åŒçš„å¢å¼ºã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œä»…ç”¨äº `rect` æ¨¡å¼ã€‚é»˜è®¤ä¸º Noneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)  # è·å–æ¨¡å‹çš„æœ€å¤§æ­¥å¹…
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„é€ å¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]  # ç¡®ä¿æ¨¡å¼æœ‰æ•ˆ
        with torch_distributed_zero_first(rank):  # åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­ï¼Œç¡®ä¿æ•°æ®é›†åªåˆå§‹åŒ–ä¸€æ¬¡
            dataset = self.build_dataset(dataset_path, mode, batch_size)  # æ„å»ºæ•°æ®é›†
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        workers = self.args.workers if mode == "train" else self.args.workers * 2  # è®¾ç½®å·¥ä½œçº¿ç¨‹æ•°
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å°†å›¾åƒè½¬æ¢ä¸ºæµ®ç‚¹æ•°å¹¶å½’ä¸€åŒ–
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨å¤šå°ºåº¦
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©å›¾åƒå¤§å°
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:  # å¦‚æœéœ€è¦ç¼©æ”¾
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è¿›è¡Œæ’å€¼ç¼©æ”¾
            batch["img"] = imgs  # æ›´æ–°æ‰¹æ¬¡å›¾åƒ
        return batch

    def set_model_attributes(self):
        """è®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œåç§°ã€‚"""
        self.model.nc = self.data["nc"]  # å°†ç±»åˆ«æ•°é‡é™„åŠ åˆ°æ¨¡å‹
        self.model.names = self.data["names"]  # å°†ç±»åˆ«åç§°é™„åŠ åˆ°æ¨¡å‹
        self.model.args = self.args  # å°†è¶…å‚æ•°é™„åŠ åˆ°æ¨¡å‹

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å› YOLO æ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)  # åˆ›å»ºæ£€æµ‹æ¨¡å‹
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶å¸¦æœ‰æ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )
```

### ä»£ç è¯´æ˜ï¼š
1. **æ•°æ®é›†æ„å»º**ï¼š`build_dataset` æ–¹æ³•è´Ÿè´£æ ¹æ®è¾“å…¥çš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰æ„å»º YOLO æ•°æ®é›†ã€‚
2. **æ•°æ®åŠ è½½å™¨**ï¼š`get_dataloader` æ–¹æ³•åˆ›å»ºæ•°æ®åŠ è½½å™¨ï¼Œæ”¯æŒåˆ†å¸ƒå¼è®­ç»ƒå¹¶è®¾ç½®æ‰¹æ¬¡å¤§å°å’Œå·¥ä½œçº¿ç¨‹æ•°ã€‚
3. **æ‰¹æ¬¡é¢„å¤„ç†**ï¼š`preprocess_batch` æ–¹æ³•å¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œå½’ä¸€åŒ–å’Œå¯é€‰çš„å¤šå°ºåº¦å¤„ç†ã€‚
4. **æ¨¡å‹å±æ€§è®¾ç½®**ï¼š`set_model_attributes` æ–¹æ³•å°†æ•°æ®é›†çš„ç±»åˆ«ä¿¡æ¯é™„åŠ åˆ°æ¨¡å‹ä¸Šã€‚
5. **æ¨¡å‹è·å–**ï¼š`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
6. **è®­ç»ƒæ ·æœ¬ç»˜åˆ¶**ï¼š`plot_training_samples` æ–¹æ³•ç”¨äºå¯è§†åŒ–è®­ç»ƒæ ·æœ¬åŠå…¶æ³¨é‡Šã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è„šæœ¬ï¼Œç»§æ‰¿è‡ª `BaseTrainer` ç±»ã€‚å®ƒä¸»è¦è´Ÿè´£æ„å»ºæ•°æ®é›†ã€æ•°æ®åŠ è½½å™¨ã€æ¨¡å‹è®¾ç½®ã€è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±è®¡ç®—ä»¥åŠå¯è§†åŒ–ç­‰åŠŸèƒ½ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬æ•°å­¦è®¡ç®—ã€éšæœºæ•°ç”Ÿæˆã€æ·±åº¦å­¦ä¹ æ¡†æ¶ PyTorch ä»¥åŠ Ultralytics æä¾›çš„å„ç§å·¥å…·å’Œå‡½æ•°ã€‚æ¥ç€ï¼Œå®šä¹‰äº† `DetectionTrainer` ç±»ï¼Œè¯¥ç±»ä¸“é—¨ç”¨äºå¤„ç†åŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒã€‚

åœ¨ `DetectionTrainer` ç±»ä¸­ï¼Œ`build_dataset` æ–¹æ³•ç”¨äºæ„å»º YOLO æ•°æ®é›†ã€‚å®ƒæ¥æ”¶å›¾åƒè·¯å¾„ã€æ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰å’Œæ‰¹æ¬¡å¤§å°ä½œä¸ºå‚æ•°ï¼Œåˆ©ç”¨ `build_yolo_dataset` å‡½æ•°ç”Ÿæˆæ•°æ®é›†ï¼Œå¹¶æ ¹æ®æ¨¡å‹çš„æ­¥å¹…è®¾ç½®åˆé€‚çš„å›¾åƒå¤§å°ã€‚

`get_dataloader` æ–¹æ³•åˆ™ç”¨äºæ„å»ºæ•°æ®åŠ è½½å™¨ã€‚å®ƒæ ¹æ®ä¼ å…¥çš„æ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰è°ƒç”¨ `build_dataset` æ–¹æ³•ï¼Œå¹¶è®¾ç½®æ•°æ®åŠ è½½çš„å‚æ•°ï¼Œå¦‚æ˜¯å¦æ‰“ä¹±æ•°æ®ã€å·¥ä½œçº¿ç¨‹æ•°ç­‰ã€‚

`preprocess_batch` æ–¹æ³•è´Ÿè´£å¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°é€‚å½“çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ ¼å¼ã€‚å®ƒè¿˜æ”¯æŒå¤šå°ºåº¦è®­ç»ƒï¼Œé€šè¿‡éšæœºé€‰æ‹©å›¾åƒå¤§å°æ¥å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ç­‰ï¼Œä»¥ç¡®ä¿æ¨¡å‹èƒ½å¤Ÿæ­£ç¡®å¤„ç†ç‰¹å®šçš„æ•°æ®é›†ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹å®ä¾‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚`get_validator` æ–¹æ³•åˆ™è¿”å›ä¸€ä¸ªç”¨äºæ¨¡å‹éªŒè¯çš„ `DetectionValidator` å®ä¾‹ã€‚

åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œ`label_loss_items` æ–¹æ³•ç”¨äºç”Ÿæˆå¸¦æœ‰æ ‡ç­¾çš„æŸå¤±å­—å…¸ï¼Œæ–¹ä¾¿ç›‘æ§è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±æƒ…å†µã€‚`progress_string` æ–¹æ³•åˆ™è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„è½®æ¬¡ã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ç­‰ä¿¡æ¯ã€‚

æ­¤å¤–ï¼Œ`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œ`plot_metrics` æ–¹æ³•ç”¨äºä» CSV æ–‡ä»¶ä¸­ç»˜åˆ¶è®­ç»ƒæŒ‡æ ‡ï¼Œè€Œ `plot_training_labels` æ–¹æ³•åˆ™åˆ›å»ºä¸€ä¸ªå¸¦æ ‡ç­¾çš„è®­ç»ƒå›¾ï¼Œå±•ç¤ºæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šçš„è¡¨ç°ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº† YOLO æ¨¡å‹è®­ç»ƒçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæ¶µç›–äº†æ•°æ®å¤„ç†ã€æ¨¡å‹è®¾ç½®ã€è®­ç»ƒç›‘æ§å’Œç»“æœå¯è§†åŒ–ç­‰å¤šä¸ªæ–¹é¢ï¼Œä¸ºç›®æ ‡æ£€æµ‹ä»»åŠ¡æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„è®­ç»ƒæ¡†æ¶ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºYOLOï¼ˆYou Only Look Onceï¼‰æ¨¡å‹çš„ç›®æ ‡æ£€æµ‹æ¡†æ¶ï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå®Œæ•´çš„è®­ç»ƒã€éªŒè¯å’Œæ¨ç†è§£å†³æ–¹æ¡ˆã€‚é¡¹ç›®çš„æ¶æ„åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ¨¡å‹å®šä¹‰ã€æ•°æ®å¤„ç†ã€è®­ç»ƒè¿‡ç¨‹ç®¡ç†ã€æ¨ç†ã€å¯è§†åŒ–ç­‰ã€‚é€šè¿‡è¿™äº›æ¨¡å—çš„åä½œï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è®­ç»ƒå’Œè¯„ä¼°ï¼ŒåŒæ—¶æ”¯æŒå¤šç§æ”¹è¿›å’Œæ‰©å±•ã€‚

ä»¥ä¸‹æ˜¯å„ä¸ªæ–‡ä»¶çš„åŠŸèƒ½æ¦‚è¿°ï¼š

| æ–‡ä»¶è·¯å¾„                                                                                                   | åŠŸèƒ½æè¿°                                                                                       |
|------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| `code\ultralytics\assets\utils\__init__.py`                                                              | åŠ¨æ€å¯¼å…¥ä¸å½“å‰Pythonç¯å¢ƒå’Œæ“ä½œç³»ç»Ÿç›¸å…³çš„æ¨¡å—ï¼Œæ”¯æŒæ¨¡å—çš„å¯ç§»æ¤æ€§å’Œçµæ´»æ€§ã€‚                     |
| `ui.py`                                                                                                   | å°è£…äº†ä¸€ä¸ªè¿è¡ŒStreamlitåº”ç”¨çš„è¿‡ç¨‹ï¼Œæ–¹ä¾¿ç”¨æˆ·é€šè¿‡è¯¥è„šæœ¬å¯åŠ¨`web.py`ã€‚                           |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\hub\session.py`                     | ç®¡ç†YOLOæ¨¡å‹çš„è®­ç»ƒä¼šè¯ï¼ŒåŒ…æ‹¬æ¨¡å‹åˆå§‹åŒ–ã€å¿ƒè·³ä¿¡å·å‘é€å’Œæ£€æŸ¥ç‚¹ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚                     |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\rtdetr\__init__.py`        | å®ç°RTDETRæ¨¡å‹çš„ç›¸å…³åŠŸèƒ½ï¼Œç»„ç»‡æ¨¡å—å’Œæ¥å£ï¼Œæ”¯æŒæ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†ã€‚                             |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\tal.py`                     | å®ç°é”šæ¡†çš„é€‰æ‹©å’Œåˆ†é…é€»è¾‘ï¼Œä¸ºç›®æ ‡æ£€æµ‹ä»»åŠ¡æä¾›åŸºç¡€åŠŸèƒ½ï¼Œæå‡æ¨¡å‹æ£€æµ‹ç²¾åº¦å’Œæ•ˆç‡ã€‚               |
| `train.py`                                                                                               | è´Ÿè´£YOLOæ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½ã€æ¨¡å‹è®¾ç½®ã€æŸå¤±è®¡ç®—å’Œå¯è§†åŒ–ç­‰åŠŸèƒ½ã€‚         |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\extra_modules\head.py`        | å®šä¹‰YOLOæ¨¡å‹çš„å¤´éƒ¨ç»“æ„ï¼Œè´Ÿè´£è¾“å‡ºç‰¹å¾å›¾å¹¶è¿›è¡Œç›®æ ‡æ£€æµ‹çš„æœ€ç»ˆé¢„æµ‹ã€‚                             |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\utils\triton.py`                 | æä¾›ä¸Tritonæ¨ç†æœåŠ¡å™¨çš„æ¥å£ï¼Œæ”¯æŒæ¨¡å‹çš„åœ¨çº¿æ¨ç†å’ŒæœåŠ¡ã€‚                                     |
| `code\ultralytics\utils\callbacks\wb.py`                                                                 | å®ç°ä¸Weights & Biasesï¼ˆW&Bï¼‰é›†æˆçš„å›è°ƒåŠŸèƒ½ï¼Œç”¨äºç›‘æ§å’Œè®°å½•è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡ã€‚                |
| `code\ui_style.py`                                                                                       | å®šä¹‰Streamlitåº”ç”¨çš„æ ·å¼å’Œå¸ƒå±€ï¼Œæä¾›ç”¨æˆ·ç•Œé¢çš„ç¾è§‚æ€§å’Œå¯ç”¨æ€§ã€‚                               |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\engine\predictor.py`              | å®ç°ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„æ¨ç†åŠŸèƒ½ï¼Œè´Ÿè´£åŠ è½½æ¨¡å‹å¹¶å¯¹è¾“å…¥å›¾åƒè¿›è¡Œé¢„æµ‹ã€‚                             |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\extra_modules\ops_dcnv3\modules\dcnv3.py` | å®ç°æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼ˆDCNv3ï¼‰æ¨¡å—ï¼Œå¢å¼ºæ¨¡å‹çš„ç‰¹å¾æå–èƒ½åŠ›ã€‚                                     |
| `code\ultralytics\models\sam\modules\encoders.py`                                                       | å®šä¹‰SAMï¼ˆSegment Anything Modelï¼‰æ¨¡å‹çš„ç¼–ç å™¨éƒ¨åˆ†ï¼Œè´Ÿè´£è¾“å…¥å›¾åƒçš„ç‰¹å¾æå–ã€‚                   |

é€šè¿‡è¿™äº›æ¨¡å—çš„åä½œï¼Œç”¨æˆ·å¯ä»¥é«˜æ•ˆåœ°è¿›è¡Œç›®æ ‡æ£€æµ‹ä»»åŠ¡ï¼Œæ”¯æŒå¤šç§æ¨¡å‹æ”¹è¿›å’Œè®­ç»ƒç­–ç•¥ï¼Œæå‡æ¨¡å‹çš„æ€§èƒ½å’Œé€‚ç”¨æ€§ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpuUm59r](https://mbd.pub/o/bread/ZpuUm59r)